{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ashu LOQ\\\\Desktop\\\\Projects\\\\travel-Rogue-2\\\\frontend\\\\src\\\\contexts\\\\MapProvider.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MapContext = /*#__PURE__*/createContext({\n  map: null,\n  setMap: () => {},\n  markers: [],\n  setMarkers: () => {},\n  isLoaded: false,\n  loadError: null,\n  selectedLocation: null,\n  setSelectedLocation: () => {},\n  mapConfig: {\n    zoom: 10,\n    center: {\n      lat: 40.7128,\n      lng: -74.0060\n    } // Default to NYC\n  },\n  setMapConfig: () => {}\n});\nexport const useMap = () => {\n  _s();\n  const context = useContext(MapContext);\n  if (!context) {\n    throw new Error('useMap must be used within a MapProvider');\n  }\n  return context;\n};\n_s(useMap, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const MapProvider = ({\n  children\n}) => {\n  _s2();\n  const [map, setMap] = useState(null);\n  const [markers, setMarkers] = useState([]);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [loadError, setLoadError] = useState(null);\n  const [selectedLocation, setSelectedLocation] = useState(null);\n  const [mapConfig, setMapConfig] = useState({\n    zoom: 10,\n    center: {\n      lat: 40.7128,\n      lng: -74.0060\n    } // Default to NYC\n  });\n\n  // Load Google Maps script (optional)\n  useEffect(() => {\n    const loadGoogleMaps = async () => {\n      try {\n        const apiKey = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\n        if (!apiKey) {\n          console.log('Google Maps API key not configured - running without maps');\n          setIsLoaded(true);\n          return;\n        }\n        if (window.google && window.google.maps) {\n          setIsLoaded(true);\n          return;\n        }\n        const script = document.createElement('script');\n        script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&libraries=places`;\n        script.async = true;\n        script.defer = true;\n        script.onload = () => {\n          setIsLoaded(true);\n        };\n        script.onerror = () => {\n          setLoadError('Failed to load Google Maps');\n          setIsLoaded(true); // Continue without maps\n        };\n        document.head.appendChild(script);\n      } catch (error) {\n        setLoadError(error.message);\n        setIsLoaded(true); // Continue without maps\n      }\n    };\n    loadGoogleMaps();\n  }, []);\n\n  // Add marker to map\n  const addMarker = marker => {\n    setMarkers(prev => [...prev, marker]);\n  };\n\n  // Remove marker from map\n  const removeMarker = markerId => {\n    setMarkers(prev => prev.filter(marker => marker.id !== markerId));\n  };\n\n  // Clear all markers\n  const clearMarkers = () => {\n    setMarkers([]);\n  };\n\n  // Update map center and zoom\n  const updateMapConfig = newConfig => {\n    setMapConfig(prev => ({\n      ...prev,\n      ...newConfig\n    }));\n  };\n\n  // Get geocoded location (mock implementation when Google Maps unavailable)\n  const geocodeLocation = async address => {\n    if (window.google && window.google.maps) {\n      return new Promise((resolve, reject) => {\n        const geocoder = new window.google.maps.Geocoder();\n        geocoder.geocode({\n          address\n        }, (results, status) => {\n          if (status === 'OK' && results[0]) {\n            const location = results[0].geometry.location;\n            resolve({\n              lat: location.lat(),\n              lng: location.lng(),\n              address: results[0].formatted_address,\n              placeId: results[0].place_id\n            });\n          } else {\n            reject(new Error('Geocoding failed: ' + status));\n          }\n        });\n      });\n    } else {\n      // Mock geocoding for when Google Maps is not available\n      return Promise.resolve({\n        lat: 40.7128,\n        lng: -74.0060,\n        address: address,\n        placeId: 'mock-place-id'\n      });\n    }\n  };\n  const value = {\n    map,\n    setMap,\n    markers,\n    setMarkers,\n    addMarker,\n    removeMarker,\n    clearMarkers,\n    isLoaded,\n    loadError,\n    selectedLocation,\n    setSelectedLocation,\n    mapConfig,\n    setMapConfig: updateMapConfig,\n    geocodeLocation\n  };\n  return /*#__PURE__*/_jsxDEV(MapContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 5\n  }, this);\n};\n_s2(MapProvider, \"JdgxyTVLyQNtw9xzd6divUWOtxk=\");\n_c = MapProvider;\nexport default MapProvider;\nvar _c;\n$RefreshReg$(_c, \"MapProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsxDEV","_jsxDEV","MapContext","map","setMap","markers","setMarkers","isLoaded","loadError","selectedLocation","setSelectedLocation","mapConfig","zoom","center","lat","lng","setMapConfig","useMap","_s","context","Error","MapProvider","children","_s2","setIsLoaded","setLoadError","loadGoogleMaps","apiKey","process","env","REACT_APP_GOOGLE_MAPS_API_KEY","console","log","window","google","maps","script","document","createElement","src","async","defer","onload","onerror","head","appendChild","error","message","addMarker","marker","prev","removeMarker","markerId","filter","id","clearMarkers","updateMapConfig","newConfig","geocodeLocation","address","Promise","resolve","reject","geocoder","Geocoder","geocode","results","status","location","geometry","formatted_address","placeId","place_id","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Ashu LOQ/Desktop/Projects/travel-Rogue-2/frontend/src/contexts/MapProvider.jsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\n\r\nconst MapContext = createContext({\r\n  map: null,\r\n  setMap: () => {},\r\n  markers: [],\r\n  setMarkers: () => {},\r\n  isLoaded: false,\r\n  loadError: null,\r\n  selectedLocation: null,\r\n  setSelectedLocation: () => {},\r\n  mapConfig: {\r\n    zoom: 10,\r\n    center: { lat: 40.7128, lng: -74.0060 }, // Default to NYC\r\n  },\r\n  setMapConfig: () => {},\r\n});\r\n\r\nexport const useMap = () => {\r\n  const context = useContext(MapContext);\r\n  if (!context) {\r\n    throw new Error('useMap must be used within a MapProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const MapProvider = ({ children }) => {\r\n  const [map, setMap] = useState(null);\r\n  const [markers, setMarkers] = useState([]);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [loadError, setLoadError] = useState(null);\r\n  const [selectedLocation, setSelectedLocation] = useState(null);\r\n  const [mapConfig, setMapConfig] = useState({\r\n    zoom: 10,\r\n    center: { lat: 40.7128, lng: -74.0060 }, // Default to NYC\r\n  });\r\n\r\n  // Load Google Maps script (optional)\r\n  useEffect(() => {\r\n    const loadGoogleMaps = async () => {\r\n      try {\r\n        const apiKey = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\r\n        if (!apiKey) {\r\n          console.log('Google Maps API key not configured - running without maps');\r\n          setIsLoaded(true);\r\n          return;\r\n        }\r\n\r\n        if (window.google && window.google.maps) {\r\n          setIsLoaded(true);\r\n          return;\r\n        }\r\n\r\n        const script = document.createElement('script');\r\n        script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&libraries=places`;\r\n        script.async = true;\r\n        script.defer = true;\r\n\r\n        script.onload = () => {\r\n          setIsLoaded(true);\r\n        };\r\n\r\n        script.onerror = () => {\r\n          setLoadError('Failed to load Google Maps');\r\n          setIsLoaded(true); // Continue without maps\r\n        };\r\n\r\n        document.head.appendChild(script);\r\n      } catch (error) {\r\n        setLoadError(error.message);\r\n        setIsLoaded(true); // Continue without maps\r\n      }\r\n    };\r\n\r\n    loadGoogleMaps();\r\n  }, []);\r\n\r\n  // Add marker to map\r\n  const addMarker = (marker) => {\r\n    setMarkers(prev => [...prev, marker]);\r\n  };\r\n\r\n  // Remove marker from map\r\n  const removeMarker = (markerId) => {\r\n    setMarkers(prev => prev.filter(marker => marker.id !== markerId));\r\n  };\r\n\r\n  // Clear all markers\r\n  const clearMarkers = () => {\r\n    setMarkers([]);\r\n  };\r\n\r\n  // Update map center and zoom\r\n  const updateMapConfig = (newConfig) => {\r\n    setMapConfig(prev => ({ ...prev, ...newConfig }));\r\n  };\r\n\r\n  // Get geocoded location (mock implementation when Google Maps unavailable)\r\n  const geocodeLocation = async (address) => {\r\n    if (window.google && window.google.maps) {\r\n      return new Promise((resolve, reject) => {\r\n        const geocoder = new window.google.maps.Geocoder();\r\n        \r\n        geocoder.geocode({ address }, (results, status) => {\r\n          if (status === 'OK' && results[0]) {\r\n            const location = results[0].geometry.location;\r\n            resolve({\r\n              lat: location.lat(),\r\n              lng: location.lng(),\r\n              address: results[0].formatted_address,\r\n              placeId: results[0].place_id,\r\n            });\r\n          } else {\r\n            reject(new Error('Geocoding failed: ' + status));\r\n          }\r\n        });\r\n      });\r\n    } else {\r\n      // Mock geocoding for when Google Maps is not available\r\n      return Promise.resolve({\r\n        lat: 40.7128,\r\n        lng: -74.0060,\r\n        address: address,\r\n        placeId: 'mock-place-id',\r\n      });\r\n    }\r\n  };\r\n\r\n  const value = {\r\n    map,\r\n    setMap,\r\n    markers,\r\n    setMarkers,\r\n    addMarker,\r\n    removeMarker,\r\n    clearMarkers,\r\n    isLoaded,\r\n    loadError,\r\n    selectedLocation,\r\n    setSelectedLocation,\r\n    mapConfig,\r\n    setMapConfig: updateMapConfig,\r\n    geocodeLocation,\r\n  };\r\n\r\n  return (\r\n    <MapContext.Provider value={value}>\r\n      {children}\r\n    </MapContext.Provider>\r\n  );\r\n};\r\n\r\nexport default MapProvider;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}